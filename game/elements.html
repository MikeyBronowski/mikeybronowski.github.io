<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Element Quest</title>
<style>
:root{
  --bg:#0b1220; --card:#0f172a; --text:#f3f4f6; --muted:#cbd5e1; --accent:#0ea5e9;
  --shadow:0 10px 30px rgba(0,0,0,.35);
  --good:#16a34a; --bad:#ef4444;
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:radial-gradient(1000px 600px at 20% -10%, #23325a, #0b1220);color:var(--text);display:flex;flex-direction:column}
header,footer{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background:rgba(15,23,42,.75);backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.08)}
footer{border-top:1px solid rgba(255,255,255,.08);margin-top:auto}
main{max-width:980px;width:100%;margin:0 auto;padding:12px}
.brand{display:flex;align-items:center;gap:10px}
.btn{border:none;background:var(--accent);color:black;padding:10px 14px;border-radius:12px;font-weight:800;cursor:pointer;box-shadow:var(--shadow)}
.btn.secondary{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,.3)}
.muted{color:var(--muted)}
.card{background:var(--card);border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px;margin:12px 0;box-shadow:var(--shadow)}
.row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.space{justify-content:space-between}

/* Big question tile */
.qtile{
  display:flex; align-items:center; justify-content:center; text-align:center;
  background:#0a0f1d; border:1px solid rgba(255,255,255,.15); border-radius:18px;
  padding:18px; min-height:160px; box-shadow:var(--shadow)
}
.qsym{font-size:4.5rem; font-weight:900; line-height:1}
.qnum{font-size:1.1rem; color:var(--muted); margin-top:8px}

/* Answers: huge tiles, easy taps */
.answers{display:grid; grid-template-columns:1fr; gap:16px; margin-top:16px}
@media (min-width:700px){ .answers{grid-template-columns:repeat(3,1fr);} }

.atile{
  border-radius:18px; padding:18px; cursor:pointer; user-select:none;
  box-shadow:var(--shadow); border:2px solid rgba(255,255,255,.15);
  min-height:120px; display:flex; flex-direction:column; justify-content:center; gap:6px
}
.atile h3{margin:0; font-size:1.35rem; font-weight:900}
.atile .meta{font-size:1rem; opacity:.95}
.atile .sub{font-size:.95rem; color:#d1d5db}
.atile:active{transform:scale(.98)}

/* three distinct colors */
.atile.c1{ background:#1f2a44 }
.atile.c2{ background:#223a2f }
.atile.c3{ background:#402635 }

/* feedback */
.atile.correct{ outline:3px solid #22c55e; box-shadow:0 0 0 4px rgba(34,197,94,.25) inset }
.atile.wrong  { outline:3px solid #ef4444; box-shadow:0 0 0 4px rgba(239,68,68,.25) inset }

.hud{display:flex;gap:12px;align-items:center;font-weight:800}
#hudScore{color:#34d399} #hudStreak{color:#93c5fd}
.hint{color:var(--muted); min-height:1.6em}

</style>
</head>
<body>
<header>
  <div class="brand">
    <div style="width:36px;height:36px;border-radius:8px;background:#0ea5e9;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow)">üß™</div>
    <h1 style="margin:0">Element Quest</h1>
  </div>
  <div class="row">
    <button id="btnBack" class="btn secondary">‚Üê Dashboard</button>
  </div>
</header>

<main>
  <div class="card">
    <div class="row space">
      <div class="hud">
        <span id="hudScore">Score: 0</span>
        <span id="hudStreak">Streak: 0</span>
      </div>
      <div class="row">
        <button id="btnHint" class="btn secondary">Show hint</button>
        <button id="btnSkip" class="btn secondary">Skip</button>
      </div>
    </div>

    <!-- Question tile -->
    <div class="qtile" id="qTile" aria-live="polite">
      <div>
        <div class="qsym" id="qSym">H</div>
        <div class="qnum" id="qNum">Atomic number: 1</div>
      </div>
    </div>

    <!-- Answers -->
    <div class="answers" id="answers"></div>

    <div class="row space" style="margin-top:8px">
      <div id="hintBox" class="hint"></div>
      <div class="muted">Tap a tile to answer</div>
    </div>
  </div>
</main>

<footer>
  <span class="muted">&copy; <span id="year"></span> Element Quest</span>
</footer>

<script>
// ===== dataset (expandable) =====
const ELEMENTS = [
 {num:1,  sym:"H",  en:"Hydrogen",  la:"Hydrogenium", pl:"Wod√≥r"},
 {num:2,  sym:"He", en:"Helium",    la:"Helium",      pl:"Hel"},
 {num:3,  sym:"Li", en:"Lithium",   la:"Lithium",     pl:"Lit"},
 {num:4,  sym:"Be", en:"Beryllium", la:"Beryllium",   pl:"Beryl"},
 {num:5,  sym:"B",  en:"Boron",     la:"Borum",       pl:"Bor"},
 {num:6,  sym:"C",  en:"Carbon",    la:"Carbonium",   pl:"Wƒôgiel"},
 {num:7,  sym:"N",  en:"Nitrogen",  la:"Nitrogenium", pl:"Azot"},
 {num:8,  sym:"O",  en:"Oxygen",    la:"Oxygenium",   pl:"Tlen"},
 {num:9,  sym:"F",  en:"Fluorine",  la:"Fluorum",     pl:"Fluor"},
 {num:10, sym:"Ne", en:"Neon",      la:"Neon",        pl:"Neon"},
 {num:11, sym:"Na", en:"Sodium",    la:"Natrium",     pl:"S√≥d"},
 {num:12, sym:"Mg", en:"Magnesium", la:"Magnesium",   pl:"Magnez"},
 {num:13, sym:"Al", en:"Aluminium", la:"Aluminium",   pl:"Glin"},
 {num:14, sym:"Si", en:"Silicon",   la:"Silicium",    pl:"Krzem"},
 {num:15, sym:"P",  en:"Phosphorus",la:"Phosphorus",  pl:"Fosfor"},
 {num:16, sym:"S",  en:"Sulfur",    la:"Sulphur",     pl:"Siarka"},
 {num:17, sym:"Cl", en:"Chlorine",  la:"Chlorum",     pl:"Chlor"},
 {num:18, sym:"Ar", en:"Argon",     la:"Argon",       pl:"Argon"},
 {num:19, sym:"K",  en:"Potassium", la:"Kalium",      pl:"Potas"},
 {num:20, sym:"Ca", en:"Calcium",   la:"Calcium",     pl:"Wap≈Ñ"},
 {num:26, sym:"Fe", en:"Iron",      la:"Ferrum",      pl:"≈ªelazo"},
 {num:29, sym:"Cu", en:"Copper",    la:"Cuprum",      pl:"Mied≈∫"},
 {num:30, sym:"Zn", en:"Zinc",      la:"Zincum",      pl:"Cynk"},
 {num:47, sym:"Ag", en:"Silver",    la:"Argentum",    pl:"Srebro"},
 {num:79, sym:"Au", en:"Gold",      la:"Aurum",       pl:"Z≈Çoto"}
];

// ===== utils =====
const $=s=>document.querySelector(s);
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]} return a}
function choice(a){return a[Math.floor(Math.random()*a.length)]}

// ===== state =====
const state = {
  score: 0, streak: 0, best: 0,
  current: null,
  recent: [], RECENT_MAX: 6
};

// ===== game flow =====
function setQuestion(el){
  state.current = el;
  // remember to reduce repeats
  state.recent.push(el.sym);
  if(state.recent.length>state.RECENT_MAX) state.recent.shift();

  $('#qSym').textContent = el.sym;
  $('#qNum').textContent = 'Atomic number: '+el.num;
  $('#hintBox').textContent = '';
  renderAnswers();
}

function pickQuestion(){
  let sel=null, tries=0;
  do{
    sel = choice(ELEMENTS);
    tries++;
  }while(tries<30 && (state.current && sel.sym===state.current.sym || state.recent.includes(sel.sym)));
  return sel || choice(ELEMENTS);
}

function newRound(){
  setQuestion(pickQuestion());
}

function renderAnswers(){
  const answers = [state.current];
  while(answers.length<3){
    const e = choice(ELEMENTS);
    if(!answers.some(x=>x.sym===e.sym)) answers.push(e);
  }
  shuffle(answers);

  const colors=['c1','c2','c3'];
  const box = $('#answers');
  box.innerHTML = '';
  answers.forEach((el,i)=>{
    const tile = document.createElement('button');
    tile.className = `atile ${colors[i%colors.length]}`;
    tile.innerHTML = `
      <h3>${el.en}</h3>
      <div class="meta">Latin: <strong>${el.la}</strong></div>
      <div class="sub">Polish: <strong>${el.pl}</strong></div>
    `;
    tile.addEventListener('click', ()=> onAnswer(el, tile));
    box.appendChild(tile);
  });
}

function onAnswer(chosen, tile){
  const tiles = [...document.querySelectorAll('.atile')];
  tiles.forEach(t=>{
    const en = t.querySelector('h3').textContent.trim();
    if(en===state.current.en) t.classList.add('correct');
  });
  if(chosen.sym===state.current.sym){
    tile.classList.add('correct');
    state.streak = Math.min(state.streak+1, 10);
    const mult = state.streak<3?1:(state.streak<5?1.2:(state.streak<8?1.5:2));
    state.score += Math.floor(100*mult);
  }else{
    tile.classList.add('wrong');
    state.streak = 0;
  }
  updateHud();
  tiles.forEach(t=>t.disabled=true);
  setTimeout(newRound, 900);
}

function updateHud(){
  $('#hudScore').textContent = 'Score: '+state.score;
  $('#hudStreak').textContent = 'Streak: '+state.streak;
}

// ===== hints & controls =====
function toggleHint(){
  const b = $('#btnHint');
  const box = $('#hintBox');
  if(box.textContent){
    box.textContent = '';
    b.textContent = 'Show hint';
  }else{
    const w = state.current;
    box.textContent = `First letter: ${w.en[0]} ‚Ä¢ Latin: ${w.la} ‚Ä¢ Polish: ${w.pl}`;
    b.textContent = 'Hide hint';
  }
}

// ===== boot =====
document.getElementById('year').textContent = new Date().getFullYear();
document.getElementById('btnSkip').addEventListener('click', newRound);
document.getElementById('btnHint').addEventListener('click', toggleHint);
document.getElementById('btnBack').addEventListener('click', ()=>{ location.href = 'index.html'; });

updateHud();
newRound();
</script>
</body>
</html>
